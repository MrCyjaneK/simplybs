{
    "package": "boost",
    "version": "1_85_0",
    "type": "host",
    "download": {
        "kind": "tar.bz2",
        "sha256": "7009fe1faa1697476bdc7027703a2badb84e849b7b0baad5086b087b971f8617",
        "url": "http://downloads.sourceforge.net/project/boost/boost/1.85.0/boost_1_85_0.tar.bz2"
    },
    "dependencies": [
        "*-android*:native/android_ndk",
        "*-linux-*:native/libtool",
        "all:native/boost-b2",
        "all:native/python@3.11.13",
        "all:libiconv"
    ],
    "patches": [
        "fix_io_control_hpp.patch"
    ],
    "build": {
        "env": [
            "all:config_opts=variant=release",
            "*-apple-ios*:target_os=iphone",
            "*-linux-android*:target_os=android",
            "*-mingw32*:target_os=windows",
            "*-linux-gnu*:target_os=linux",
            "all:config_opts=$config_opts --layout=system --user-config=user-config.jam",
            "all:config_opts=$config_opts threading=multi link=static -sNO_BZIP2=1 -sNO_ZLIB=1",
            "*-linux-gnu*:config_opts=$config_opts threadapi=pthread runtime-link=static",
            "*-android*:config_opts=$config_opts threadapi=pthread runtime-link=static target-os=$target_os binary-format=elf abi=aapcs",
            "*64-linux-android*:config_opts=$config_opts address-model=64",
            "armv7-linux-androideabi*:config_opts=$config_opts address-model=32",
            "*-darwin*:config_opts=$config_opts --toolset=darwin runtime-link=static",
            "*-ios*:config_opts=$config_opts --toolset=darwin-iphone runtime-link=static",
            "*-ios-simulator*:config_opts=$config_opts --toolset=darwin-iphone runtime-link=static",
            "*mingw32*:config_opts=$config_opts binary-format=pe target-os=$target_os threadapi=win32 runtime-link=static",
            "*x86_64-*-mingw32*:config_opts=$config_opts address-model=64",
            "*i686-*-mingw32*:config_opts=$config_opts address-model=32",
            "*i686-linux-gnu*:config_opts=$config_opts address-model=32 architecture=x86",
            "all:toolset=gcc",
            "*-apple-*:archiver=$LIBTOOL",
            "*-apple-*:toolset=darwin",
            "*-android*:toolset=gcc",
            "*mingw32*:toolset=gcc",
            "*-ios*:toolset2=iphone",
            "*-ios-simulator*:toolset2=~iphone",
            "all:config_libraries=system,filesystem,thread,timer,date_time,chrono,regex,serialization,atomic,program_options,locale,log",
            "all:CXXFLAGS=-fPIC",
            "*-darwin*:LDFLAGS=-L$PREFIX/lib -L$SDK_PATH/usr/lib",
            "*-ios*:LDFLAGS=-L$PREFIX/lib -L$SDK_PATH/usr/lib",
            "*-ios-simulator*:LDFLAGS=-L$PREFIX/lib -L$SDK_PATH/usr/lib",
            "*-apple-*:AR=libtool",
            "*-linux-android*:ARFLAGS=rcs"
        ],
        "steps": [
            "all:echo \"using $toolset : $toolset2 : $CXX $CXXFLAGS : <CXXFLAGS>\"$CXXFLAGS\" <linkflags>\"$LDFLAGS\" <archiver>\"$AR\" <arflags>\"$ARFLAGS\" <striper>\"$STRIP\" <ranlib>\"$RANLIB\" <rc>\"$WINDRES\" <target-os>\"$target_os\" : ;\" > user-config.jam",
            "all:b2 -d2 -j$NUM_CORES --prefix=$STAGING_DIR$PREFIX $config_opts stage",
            "all:b2 -d0 -j1 --prefix=$STAGING_DIR$PREFIX $config_opts install"
        ]
    }
}