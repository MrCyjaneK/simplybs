{
    "package": "gtest",
    "version": "1.17.0",
    "type": "host",
    "download": {
        "kind": "tar.gz",
        "sha256": "65fab701d9829d38cb77c14acdc431d2108bfdbf8979e40eb8ae567edf10b27c",
        "url": "https://github.com/google/googletest/releases/download/v1.17.0/googletest-1.17.0.tar.gz"
    },
    "dependencies": [
        "*-android*:native/android_ndk",
        "all:native/cmake",
        "all:native/make"
    ],
    "build": {
        "env": [
            "all:CXXFLAGS=$CXXFLAGS -std=c++11",
            "*-linux-gnu:CXXFLAGS=$CXXFLAGS -fPIC"
        ],
        "steps": [
            "all:cd googletest && cmake -DCMAKE_POLICY_VERSION_MINIMUM=3.5 -DCMAKE_INSTALL_PREFIX=$PREFIX -DTOOLCHAIN_PREFIX=$HOST- -DCMAKE_CXX_FLAGS_DEBUG=ON",
            "all:cd googletest && make -j$NUM_CORES",
            "all:mkdir $STAGING_DIR$PREFIX/lib $STAGING_DIR$PREFIX/include",
            "all:cp googletest/libgtest.a $STAGING_DIR$PREFIX/lib",
            "all:cp googletest/libgtest_main.a $STAGING_DIR$PREFIX/lib",
            "all:cp -a googletest/include/* $STAGING_DIR$PREFIX/include/"
        ]
    }
}