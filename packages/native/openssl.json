{
    "package": "native/openssl",
    "version": "3.5.1",
    "type": "host",
    "download": {
        "kind": "tar.gz",
        "sha256": "529043b15cffa5f36077a4d0af83f3de399807181d607441d734196d889b641f",
        "url": "https://www.openssl.org/source/openssl-3.5.1.tar.gz"
    },
    "dependencies": [
        "all:native/make",
        "all:native/perl"
    ],
    "build": {
        "env": [
            "all:config_opts=--prefix=$PREFIX/native --openssldir=$PREFIX/native/etc/openssl --libdir=$PREFIX/native/lib",
            "all:config_opts=$config_opts no-ec_nistp_64_gcc_128",
            "all:config_opts=$config_opts no-shared",
            "all:config_opts=$config_opts no-tests",
            "all:config_opts=$config_opts no-unit-test"
        ],
        "steps": [
            "all:sed -i.bak 's/#define DATE \"built on: \\$date\"/#define DATE \"built on: Jan  1 1970 00:00:01\"/' util/mkbuildinf.pl",
            "all:sed -i.bak 's|crypto ssl apps util tools fuzz providers doc|crypto ssl util tools providers|' build.info",
            "all:./Configure $config_opts",
            "all:make -j$NUM_CORES build_libs",
            "all:make -j$NUM_CORES DESTDIR=$STAGING_DIR install_sw"
        ]
    }
}