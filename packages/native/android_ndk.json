{
    "package": "native/android_ndk",
    "version": "r28c",
    "type": "native",
    "download": {
        "kind": "none"
    },
    "dependencies": [
        "all:native/p7zip"
    ],
    "build": {
        "env": [
            "aarch64-linux-android:config_opts=--arch arm",
            "x86_64-linux-android:config_opts=--arch x86_64",
            "armv7a-linux-androideabi:config_opts=--arch arm64",
            "i686-linux-android:config_opts=--arch x86",
            "aarch64-linux-android:BUILDLIB_HOST=aarch64-linux-android",
            "x86_64-linux-android:BUILDLIB_HOST=x86_64-linux-android",
            "armv7a-linux-androideabi:BUILDLIB_HOST=armv7a-linux-androideabi",
            "i686-linux-android:BUILDLIB_HOST=i686-linux-android",
            "*-android*:API_LEVEL=21"
        ],
        "steps": [
            "*-android*:if [ $(uname) = 'Darwin' ]; then curl -o android-ndk-r28c-darwin.zip https://dl.google.com/android/repository/android-ndk-r28c-darwin.zip; else true; fi",
            "*-android*:if [ $(uname) = 'Darwin' ]; then echo '0d4599e8bbf1a1668a0d51a541729b2246360f350018a2081d0b302dbb594f2a  android-ndk-r28c-darwin.zip' | shasum -a 256 -c -; else true; fi",
            "*-android*:if [ $(uname) = 'Linux' ]; then curl -o android-ndk-r28c-linux.zip https://dl.google.com/android/repository/android-ndk-r28c-linux.zip; else true; fi",
            "*-android*:if [ $(uname) = 'Linux' ]; then echo 'dfb20d396df28ca02a8c708314b814a4d961dc9074f9a161932746f815aa552f android-ndk-r28c-linux.zip' | sha256sum -c -; else true; fi",
            "*-android*:7z x $PWD/android-ndk-r28c-*.zip",
            "*-android*:android-ndk-r28c/build/tools/make_standalone_toolchain.py --api $API_LEVEL --install-dir $PWD/toolchain --stl=libc++ $config_opts",
            "*-android*:mkdir -p $STAGING_DIR$PREFIX/native",
            "*-android*:mv $PWD/toolchain/* $STAGING_DIR$PREFIX/native",
            "*-android*:cp $STAGING_DIR$PREFIX/native/bin/llvm-ar $STAGING_DIR$PREFIX/native/bin/$BUILDLIB_HOST-ar",
            "*-android*:cp $STAGING_DIR$PREFIX/native/bin/$BUILDLIB_HOST$API_LEVEL-clang $STAGING_DIR$PREFIX/native/bin/$BUILDLIB_HOST-clang",
            "*-android*:cp $STAGING_DIR$PREFIX/native/bin/$BUILDLIB_HOST$API_LEVEL-clang++ $STAGING_DIR$PREFIX/native/bin/$BUILDLIB_HOST-clang++",
            "*-android*:cp $STAGING_DIR$PREFIX/native/bin/llvm-ranlib $STAGING_DIR$PREFIX/native/bin/$BUILDLIB_HOST-ranlib",
            "*-android*:cp $STAGING_DIR$PREFIX/native/bin/llvm-ar $STAGING_DIR$PREFIX/native/bin/$BUILDLIB_HOST-ar"
        ]
    }
}