{
    "package": "glibc",
    "version": "2.39",
    "type": "host",
    "download": {
        "kind": "tar.gz",
        "sha256": "97f84f3b7588cd54093a6f6389b0c1a81e70d99708d74963a2e3eab7c7dc942d",
        "url": "http://ftpmirror.gnu.org/gnu/libc/glibc-2.39.tar.gz"
    },
    "dependencies": [
        "*-linux-gnu:native/binutils@2.42",
        "*-linux-gnu:native/bison",
        "*-linux-gnu:native/config",
        "*-linux-gnu:native/gawk@5.2.2",
        "*-linux-gnu:native/gcc@13.2@stage1",
        "*-linux-gnu:native/linux-headers",
        "*-linux-gnu:native/m4",
        "*-linux-gnu:native/make",
        "*-linux-gnu:native/python@3.11.13",
        "*-linux-gnu:native/sed"
    ],
    "build": {
        "env": [
            "*-linux-gnu:HOST_TARGET=x86_64-linux-gnu",
            "*-linux-gnu:SYSROOT=$PREFIX/sysroots/$HOST_TARGET",
            "*-linux-gnu:config_opts=--prefix=$PREFIX --host=$HOST_TARGET --with-headers=$PREFIX/include --disable-multilib --enable-kernel=4.14",
            "*-linux-gnu:CFLAGS=$CFLAGS -O2",
            "*-linux-gnu:CFLAGS=$CFLAGS -Wno-error=attributes",
            "*-linux-gnu:CFLAGS=$CFLAGS -Wa,--noexecstack"
        ],
        "steps": [
            "*-linux-gnu:mkdir -p build",
            "*-linux-gnu:cd build && ../configure $config_opts",
            "*-linux-gnu:cd build && make -j$NUM_CORES",
            "*-linux-gnu:cd build && make -j1 install DESTDIR=$STAGING_DIR"
        ]
    }
}